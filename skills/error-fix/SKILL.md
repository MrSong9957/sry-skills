---
name: error-fix
description: ">根据用户输入的错误信息，进行系统分析、排查问题原因、制定并执行修复方案，最终完成错误修复任务"
---

# error-fix — 错误排查与修复专家

## A. Skill Overview

### 技能目的
本技能用于根据用户提供的错误信息，执行完整的、闭环的错误排查与修复流程。  
本技能禁止仅输出多个方案而不执行，必须按照 SOP：

- 识别错误类型和来源  
- 分析根本原因  
- 创建可执行的修复 To Do List  
- 逐项执行 To Do List 完成修复任务（必须执行，不得停留在方案层）  
- 输出最终的修复结果报告  
- 结合同目录下的 `reference.md` 获取补充知识  
- 确保整个修复任务从输入到输出形成闭环  

### 适用场景
- 开发人员排查代码错误  
- 系统管理员分析系统故障  
- 普通用户解决软件问题  
- 技术支持人员快速定位问题  

### 不适用场景（边界条件）
- 用户未提供任何错误信息  
- 错误信息模糊、不完整  
- 涉及硬件损坏或物理故障  
- 需要访问特定系统环境才能排查的错误  

---

## B. Input Specification

### 用户输入格式（推荐）
```
我的错误是：<错误现象描述>
```
或
```
排查错误：<错误信息详情>
```

### 参数说明
- error_description（string，必填）  
  用户遇到的错误现象或错误信息。

- context（string，可选）  
  错误发生的上下文，如操作步骤、环境配置、技术栈等。

- error_type（string，可选）  
  错误类型，如语法错误、运行时错误、网络错误等。

---

## C. Output Specification

Claude 必须输出完整的错误修复报告，包含：

1. 错误识别  
2. 可能原因分析  
3. 修复 To Do List（必须可执行）  
4. 修复执行过程与最终解决方案（必须执行，不得只给方案）  
5. 预防措施  
6. 相关最佳实践（可引用 reference.md 内容）  

### 输出要求
- 使用清晰标题与编号  
- 所有内容必须具体、可执行  
- 解决方案必须基于 To Do List 逐项执行后的结果  
- 不得使用模糊表述  
- 禁止仅列出多个方案而不执行修复  

---

## D. Step-by-Step SOP（核心）

### Step 1：解析用户输入
1. 提取 error_description（必填）。  
2. 提取 context、error_type（可选）。  
3. 若 error_description 缺失，输出错误提示并停止。

检查点：
- error_description 是否非空且具体。

---

### Step 2：加载 reference.md（信息补充）
1. 读取同目录下的 `reference.md`。  
2. 将其中的错误类型、排查方法、最佳实践作为辅助知识。  
3. 若 reference.md 缺失，则继续执行，但不引用补充内容。

检查点：
- 是否成功加载 reference.md（若存在）。  

---

### Step 3：识别错误类型与来源
1. 根据 error_description 分析错误类型。  
2. 根据关键字识别错误来源（语言、系统、网络等）。  
3. 若 context 存在，结合上下文缩小范围。

检查点：
- 是否识别出错误类型与来源。

---

### Step 4：分析根本原因
1. 列出所有可能的根本原因。  
2. 结合 context 与 reference.md 内容评估可能性。  
3. 按优先级排序最可能的原因。

检查点：
- 原因是否全面、合理、有依据。

---

### Step 5：创建修复 To Do List（必须可执行）
1. 根据最可能的根本原因生成可执行的 To Do List。  
2. 每个 To Do 必须是可执行动作（如“检查 X 配置”“修复 Y 文件路径”）。  
3. To Do List 必须覆盖整个修复流程。  
4. 禁止输出“多个方案供选择”，To Do 必须明确唯一执行路径。

检查点：
- To Do List 是否完整覆盖修复任务。  
- 每项是否可执行、可验证。  

---

### Step 6：执行 To Do List 并完成修复（核心要求）
1. 严格按照 To Do List 顺序逐项执行修复任务。  
2. 每个 To Do 必须对应一个明确的执行过程与修复结果。  
3. 若存在多种可能路径，必须选择最优路径并执行，而不是列出多个方案。  
4. 输出执行后的最终修复方案，而非“可选方案”。

检查点：
- 是否真正执行了 To Do List，而不是仅输出方案。  
- 解决方案是否与 To Do List 一一对应。  
- 是否具体、可操作、可验证。  

---

### Step 7：提供预防措施
1. 根据根本原因提出预防措施。  
2. 可引用 reference.md 中的最佳实践。  
3. 必须实用、可实施。

检查点：
- 预防措施是否针对根因。  

---

### Step 8：输出最终错误修复报告
1. 按 Output Specification 结构输出完整报告。  
2. 报告必须体现“排查 → To Do → 执行 → 修复完成”的闭环。  
3. 确保内容清晰、可执行、无模糊表达。  

检查点：
- 报告是否包含所有章节。  
- 是否形成完整闭环。  
- 是否体现修复执行过程，而非仅提供方案。  

---

## E. Quality Checklist（执行前自检）

- 是否成功解析用户输入？  
- 是否加载 reference.md（若存在）？  
- 错误类型与来源是否准确？  
- 根因分析是否全面？  
- To Do List 是否完整、可执行？  
- 是否真正执行了 To Do List？  
- 是否避免了“只给方案不执行”的行为？  
- 预防措施是否实用？  
- 报告是否清晰、无模糊表达？  

---

## F. Reference

本技能会自动读取同目录下的 `reference.md`，作为补充知识来源。  
若 reference.md 不存在，则跳过引用。

---